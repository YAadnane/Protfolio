<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Admin Dashboard</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Syne:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script>
        window.onerror = function (msg, url, line, col, error) {
            alert("Script Error: " + msg + "\nLine: " + line);
            console.error(error);
        };
        window.onunhandledrejection = function (event) {
            console.error("Promise Rejection: " + event.reason);
        };
    </script>
    <style>
        body {
            cursor: none;
            /* Hide default cursor */
        }

        /* Admin Specific Styles */
        .admin-container {
            padding-top: 100px;
            max-width: 1400px;
            margin: 0 auto;
            padding-left: 2rem;
            padding-right: 2rem;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            /* Responsive wrap */
            gap: 1rem;
        }

        .tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 1rem;
            overflow-x: auto;
            /* Allow scrolling on small screens */
        }

        .tab-btn {
            background: transparent;
            border: none;
            color: var(--text-muted);
            font-family: var(--font-heading);
            font-size: 1.1rem;
            cursor: pointer;
            padding: 0.5rem 1rem;
            transition: var(--transition-fast);
            white-space: nowrap;
            /* Prevent breaking */
        }

        .tab-btn.active {
            color: var(--accent-color);
            border-bottom: 2px solid var(--accent-color);
        }

        .admin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            /* Better for mobile */
            gap: 1.5rem;
        }

        .admin-card {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
        }

        .admin-actions {
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .btn-delete {
            background: rgba(255, 0, 85, 0.1);
            color: #ff0055;
            border: 1px solid rgba(255, 0, 85, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
        }

        .btn-add {
            background: var(--accent-color);
            color: var(--bg-color);
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 2rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            gap: 0.5rem;
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            line-height: 1;
            color: var(--text-muted);
            cursor: pointer;
            transition: color 0.2s;
        }

        .close-modal:hover {
            color: var(--accent-color);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.open {
            display: flex;
        }

        .modal-content {
            background: var(--bg-color);
            padding: 2rem;
            border-radius: 1rem;
            width: 500px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-height: 90vh;
            overflow-y: auto;
        }

        /* Custom Scrollbar for Modal */
        .modal-content::-webkit-scrollbar {
            width: 8px;
        }

        .modal-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        .modal-content::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 4px;
        }

        .modal h2 {
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-muted);
        }

        /* --- CUSTOM PRETTY SELECT --- */
        select {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.5rem;
            padding: 0.8rem 1rem;
            font-family: var(--font-body);
            color: var(--text-main);
            width: 100%;
            cursor: pointer;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23888' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
        }

        select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(46, 213, 115, 0.1);
        }

        /* Fix for options having white bg on some browsers */
        select option {
            background-color: #1a1a1a;
            color: #fff;
            padding: 10px;
        }

        /* --- CUSTOM CHECKBOX --- */
        /* Hidden default checkbox */
        input[type="checkbox"] {
            appearance: none;
            -webkit-appearance: none;
            width: 1.2rem;
            height: 1.2rem;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.05);
            cursor: pointer;
            position: relative;
            vertical-align: middle;
            margin-right: 0.5rem;
            transition: all 0.2s ease;
        }

        input[type="checkbox"]:checked {
            background-color: var(--accent-color);
            border-color: var(--accent-color);
        }

        input[type="checkbox"]:checked::after {
            content: '';
            position: absolute;
            left: 5px;
            top: 2px;
            width: 4px;
            height: 9px;
            border: solid #000;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

        /* Also target generic checkboxes inside labels for alignment */
        label input[type="checkbox"] {
            margin-right: 0.8rem;
        }

        /* --- STYLED CANCEL BUTTON --- */
        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-muted);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 0.8rem 1.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-family: var(--font-body);
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-main);
            border-color: rgba(255, 255, 255, 0.3);
        }

        /* Cursor Fixes */
        .cursor-dot,
        .cursor-outline {
            position: fixed;
            top: 0;
            left: 0;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            z-index: 9999;
            pointer-events: none;
        }

        .cursor-dot {
            width: 8px;
            height: 8px;
            background-color: var(--accent-color);
        }

        .cursor-outline {
            width: 40px;
            height: 40px;
            border: 1px solid var(--accent-color);
        }

        .badge {
            background-color: #ff0055;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin-left: 8px;
            display: none;
            /* Hidden by default */
        }

        /* Toast Notification */
        .notification-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 10002;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            pointer-events: none;
        }

        .notification {
            background: rgba(30, 30, 30, 0.95);
            color: #fff;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            border-left: 4px solid var(--accent-color);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 1rem;
            font-family: var(--font-body);
            font-size: 0.95rem;
            animation: slideIn 0.3s ease-out forwards;
            min-width: 300px;
            pointer-events: auto;
        }

        .notification.success {
            border-left-color: #2ed573;
        }

        .notification.error {
            border-left-color: #ff4757;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }

            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        /* --- DATABASE VIEWER PREMIUM STYLES --- */
        .db-container {
            grid-column: 1 / -1;
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 1.5rem;
            height: calc(100vh - 180px);
            width: 100%;
        }

        .db-sidebar {
            background: rgba(20, 20, 20, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 1rem;
            overflow-y: auto;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .db-checklist-title {
            font-family: var(--font-heading);
            color: var(--text-muted);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .db-table-btn {
            background: transparent;
            border: 1px solid transparent;
            color: var(--text-main);
            padding: 0.8rem 1rem;
            text-align: left;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: var(--font-body);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .db-table-btn:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(5px);
        }

        .db-table-btn.active {
            background: rgba(46, 213, 115, 0.1);
            border-color: var(--accent-color);
            color: var(--accent-color);
            box-shadow: 0 0 15px rgba(46, 213, 115, 0.1);
        }

        .db-content {
            background: rgba(20, 20, 20, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 1rem;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .db-header {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.2);
        }

        .db-data-wrapper {
            overflow: auto;
            flex: 1;
        }

        .db-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
            min-width: 800px;
            /* Force scroll on small screens */
        }

        .db-table thead th {
            text-align: left;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.03);
            color: var(--text-muted);
            font-weight: 500;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 0;
            backdrop-filter: blur(5px);
            z-index: 10;
        }

        .db-table tbody td {
            padding: 0.8rem 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.02);
            color: #eee;
            max-width: 300px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .db-table tbody tr:hover {
            background: rgba(255, 255, 255, 0.02);
        }

        /* Custom Scrollbar for DB */
        .db-sidebar::-webkit-scrollbar,
        .db-data-wrapper::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        .db-sidebar::-webkit-scrollbar-thumb,
        .db-data-wrapper::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .db-sidebar::-webkit-scrollbar-thumb:hover,
        .db-data-wrapper::-webkit-scrollbar-thumb:hover {
            background: var(--accent-color);
        }

        /* Responsive DB Viewer */
        .db-table-list {
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
        }

        @media (max-width: 768px) {
            .db-container {
                grid-template-columns: 1fr;
                grid-template-rows: auto 1fr;
                height: calc(100vh - 140px);
                gap: 1rem;
            }

            .db-sidebar {
                flex-direction: row;
                overflow-x: auto;
                padding: 0.8rem;
                height: auto;
                min-height: auto;
                align-items: center;
                gap: 1rem;
                white-space: nowrap;
            }

            .db-checklist-title {
                margin-bottom: 0;
                border-bottom: none;
                padding-bottom: 0;
                margin-right: 0.5rem;
            }

            .db-table-list {
                flex-direction: row;
                gap: 0.5rem;
            }

            .db-table-btn {
                padding: 0.5rem 0.8rem;
                font-size: 0.85rem;
            }

            .db-table-btn span {
                /* ensure text is visible */
            }

            .db-table-btn i.fa-chevron-right {
                display: none;
            }
        }

        /* Responsive Header Fix */
        @media (max-width: 600px) {
            .admin-header {
                flex-direction: column;
                gap: 1.5rem;
                text-align: center;
                background: rgba(255, 255, 255, 0.03);
                padding: 1.5rem;
                border-radius: 1rem;
                border: 1px solid rgba(255, 255, 255, 0.05);
            }

            .admin-logo {
                margin-bottom: 0.5rem;
            }

            .admin-header a {
                /* View Site Link */
                background: rgba(46, 213, 115, 0.1);
                padding: 0.5rem 1rem;
                border-radius: 2rem;
                color: var(--accent-color);
                width: 100%;
                display: block;
                border: 1px solid rgba(46, 213, 115, 0.2);
            }

            .admin-header button {
                /* Logout */
                width: 100%;
                justify-content: center;
            }
        }
    </style>
    <style id="light-mode-styles">
        /* --- ISOLATED LIGHT MODE OVERRIDES --- */

        /* 1. Database Viewer */
        body.light-mode .db-sidebar,
        body.light-mode .db-content,
        html.light-mode .db-sidebar,
        html.light-mode .db-content {
            background: rgba(255, 255, 255, 0.70) !important;
            border-color: rgba(0, 0, 0, 0.1) !important;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05) !important;
            backdrop-filter: blur(15px) !important;
        }

        body.light-mode .db-checklist-title,
        html.light-mode .db-checklist-title {
            color: #333 !important;
            border-bottom-color: rgba(0, 0, 0, 0.1) !important;
        }

        body.light-mode .db-table-btn,
        html.light-mode .db-table-btn {
            color: #1a1a1a !important;
        }

        body.light-mode .db-table-btn:hover,
        html.light-mode .db-table-btn:hover {
            background: rgba(0, 0, 0, 0.05) !important;
        }

        body.light-mode .db-table-btn.active,
        html.light-mode .db-table-btn.active {
            background: rgba(0, 0, 0, 0.1) !important;
            color: var(--accent-color) !important;
            border-color: var(--accent-color) !important;
        }

        body.light-mode .db-header,
        html.light-mode .db-header {
            background: rgba(255, 255, 255, 0.5) !important;
            border-bottom-color: rgba(0, 0, 0, 0.05) !important;
        }

        body.light-mode .db-table thead th,
        html.light-mode .db-table thead th {
            background: rgba(255, 255, 255, 0.9) !important;
            color: #1a1a1a !important;
            border-bottom-color: rgba(0, 0, 0, 0.1) !important;
        }

        body.light-mode .db-table tbody td,
        html.light-mode .db-table tbody td {
            color: #333 !important;
            border-bottom-color: rgba(0, 0, 0, 0.05) !important;
        }

        body.light-mode .db-table tbody tr:hover,
        html.light-mode .db-table tbody tr:hover {
            background: rgba(0, 0, 0, 0.03) !important;
        }

        body.light-mode .db-sidebar::-webkit-scrollbar-thumb,
        body.light-mode .db-data-wrapper::-webkit-scrollbar-thumb,
        html.light-mode .db-sidebar::-webkit-scrollbar-thumb,
        html.light-mode .db-data-wrapper::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.2) !important;
        }

        /* 2. Project Cards (High Specificity) */
        body.light-mode #content-grid .admin-card,
        body.light-mode .admin-card,
        html.light-mode .admin-card {
            background-color: rgba(255, 255, 255, 0.85) !important;
            border: 1px solid rgba(0, 0, 0, 0.1) !important;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05) !important;
            backdrop-filter: blur(10px) !important;
            color: #1a1a1a !important;
        }

        body.light-mode .admin-card h3,
        html.light-mode .admin-card h3,
        body.light-mode .admin-card p,
        html.light-mode .admin-card p {
            color: #1a1a1a !important;
        }

        body.light-mode .admin-card .tag {
            background: rgba(0, 0, 0, 0.1) !important;
            color: #222 !important;
        }

        /* Search Bar */
        .search-container {
            margin-bottom: 2rem;
            display: none;
            /* Hidden by default, shown via JS for relevant tabs */
            position: relative;
        }

        .search-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1rem 1rem 1rem 3rem;
            border-radius: 0.8rem;
            color: var(--text-main);
            font-family: var(--font-body);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-color);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 15px rgba(46, 213, 115, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            pointer-events: none;
        }

        /* Custom Scrollbar for Chatbot History */
        #chatbot-history-container::-webkit-scrollbar {
            width: 8px;
        }

        #chatbot-history-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.02);
            border-radius: 4px;
        }

        #chatbot-history-container::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 4px;
            transition: background 0.3s ease;
        }

        #chatbot-history-container::-webkit-scrollbar-thumb:hover {
            background: #1ed760;
        }
    </style>
    <style>
        /* --- SIDEBAR LAYOUT REFACTOR --- */
        .admin-layout {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 2rem;
            min-height: calc(100vh - 200px);
            align-items: start;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            border-right: 1px solid rgba(255, 255, 255, 0.05);
            padding-right: 1.5rem;
            /* Sticky sidebar */
            position: sticky;
            top: 100px;
            max-height: calc(100vh - 120px);
            overflow-y: auto;
            /* Custom Scrollbar */
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 255, 255, 0.1) transparent;
        }

        .sidebar::-webkit-scrollbar {
            width: 5px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: transparent;
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .sidebar::-webkit-scrollbar-thumb:hover {
            background: var(--accent-color);
        }

        .sidebar-btn {
            background: transparent;
            border: none;
            color: var(--text-muted);
            font-family: var(--font-heading);
            font-size: 1rem;
            cursor: pointer;
            padding: 0.8rem 1.2rem;
            border-radius: 0.5rem;
            text-align: left;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            width: 100%;
        }

        .sidebar-btn:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-main);
            transform: translateX(5px);
        }

        .sidebar-btn.active {
            background: rgba(46, 213, 115, 0.1);
            color: var(--accent-color);
            border: 1px solid rgba(46, 213, 115, 0.2);
            font-weight: 600;
        }

        .sidebar-btn i {
            width: 20px;
            text-align: center;
        }

        .admin-content {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            width: 100%;
            /* Ensure it fills the grid cell */
        }

        /* Responsive Grid for Content Analytics */
        .content-analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            grid-column: 1 / -1;
        }

        /* Cleanup old tabs style override */
        .tabs {
            display: none;
        }

        @media (max-width: 768px) {

            /* Strict overflow prevention */
            html,
            body {
                overflow-x: hidden !important;
                max-width: 100vw !important;
            }

            * {
                max-width: 100vw;
            }

            .admin-container {
                max-width: 100vw !important;
                overflow-x: hidden !important;
            }

            .admin-header {
                max-width: 100vw !important;
                overflow-x: hidden !important;
                box-sizing: border-box !important;
            }

            .admin-header>div {
                max-width: 100% !important;
                overflow-x: hidden !important;
                flex-wrap: wrap;
                gap: 0.5rem;
            }

            .admin-layout {
                max-width: 100vw !important;
                overflow-x: hidden !important;
            }

            /* Fix titles - center and prevent cutoff */
            .admin-content h3,
            .admin-content h2,
            .admin-content h1 {
                text-align: center !important;
                width: 100% !important;
                margin-left: 0 !important;
                margin-right: 0 !important;
                padding: 0.5rem 1rem !important;
                box-sizing: border-box !important;
            }

            /* Center section titles */
            h3[style*="grid-column"] {
                text-align: center !important;
                padding: 0.5rem !important;
            }

            /* Fix filter buttons layout */
            .filter-buttons,
            .analytics-filters {
                display: flex !important;
                flex-wrap: wrap !important;
                justify-content: center !important;
                gap: 0.5rem !important;
                width: 100% !important;
                padding: 0.5rem !important;
                box-sizing: border-box !important;
            }

            .filter-buttons button,
            .analytics-filters select,
            .analytics-filters button {
                font-size: 0.85rem !important;
                padding: 0.5rem 0.8rem !important;
                flex: 1 1 calc(45% - 0.25rem) !important;
                min-width: 110px !important;
                white-space: nowrap !important;
                box-sizing: border-box !important;
            }

            /* Center all content on mobile */
            .admin-content {
                display: flex;
                flex-direction: column;
                align-items: center;
                max-width: 100vw !important;
                overflow-x: hidden !important;
                padding: 0.5rem !important;
            }

            .content-grid {
                width: 100%;
                display: flex;
                flex-direction: column;
                align-items: center;
                max-width: 100% !important;
            }

            .admin-card {
                width: 100%;
                max-width: 100%;
                box-sizing: border-box;
                margin: 0.5rem 0 !important;
            }

            .admin-card h4 {
                text-align: center !important;
                font-size: 1rem !important;
            }

            /* Sidebar horizontal on mobile */
            .sidebar {
                flex-direction: row;
                overflow-x: auto;
                overflow-y: hidden;
                gap: 0.5rem;
                padding: 0.5rem;
                white-space: nowrap;
                max-width: 100vw !important;
            }

            .sidebar-btn {
                flex-shrink: 0;
                min-width: auto;
                padding: 0.6rem 1rem;
            }

            /* Force charts to stack vertically on mobile */
            .content-analytics-grid {
                grid-template-columns: 1fr !important;
                gap: 1rem;
                width: 100%;
                max-width: 100% !important;
            }

            /* Make tables responsive with horizontal scroll */
            .admin-card table {
                display: block;
                overflow-x: auto;
                white-space: nowrap;
                max-width: 100%;
            }

            .admin-card {
                overflow-x: auto;
            }

            /* Top content tables */
            .top-content-table {
                width: 100% !important;
                overflow-x: auto !important;
            }

            .admin-container {
                padding-left: 1rem;
                padding-right: 1rem;
                padding-top: 80px;
                /* Reduced top padding */
            }

            .admin-layout {
                grid-template-columns: 1fr;
            }

            .sidebar {
                flex-direction: row;
                overflow-x: auto;
                border-right: none;
                border-bottom: 1px solid rgba(255, 255, 255, 0.05);
                padding-right: 0;
                padding-bottom: 1rem;
                position: static;
                margin-bottom: 1rem;
            }

            .sidebar-btn {
                white-space: nowrap;
                padding: 0.5rem 1rem;
                flex: 0 0 auto;
                /* Prevent shrinking */
            }

            /* Hide toggle button on mobile as sidebar is horizontal/always visible or handled differently?
               Actually, if layout is 1fr, sidebar is just at top. 
               Toggle button is less relevant if we just show it. 
               But let's keep it functional or hide it if it breaks layout. */

            #sidebar-toggle {
                display: none;
                /* Hide sidebar toggle on mobile, just show horizontal menu */
            }
        }

        /* SIDEBAR COLLAPSED STATE */
        body.sidebar-collapsed .admin-layout {
            grid-template-columns: 70px 1fr;
        }

        body.sidebar-collapsed .sidebar-btn {
            justify-content: center;
            padding: 0.8rem 0;
        }

        body.sidebar-collapsed .sidebar-btn span {
            display: none;
        }

        body.sidebar-collapsed .sidebar-btn i {
            font-size: 1.2rem;
            margin: 0;
        }

        body.sidebar-collapsed .logo {
            /* Optional: Adjust logo if needed, but it's in header */
        }
    </style>

</head>

<body>
    <div class="cursor-dot" data-cursor-dot></div>
    <div class="cursor-outline" data-cursor-outline></div>
    <div class="cursor-dot" data-cursor-dot></div>
    <div class="cursor-outline" data-cursor-outline></div>

    <header class="header">
        <div class="container header-container">
            <a href="/" class="logo">AY<span class="dot">.</span> Admin</a>
            <a href="/" class="btn-secondary">View Site</a>
            <button class="btn-secondary" onclick="logout()"
                style="margin-left: 10px; background: transparent; border: 1px solid var(--accent-color); color: var(--accent-color); cursor: pointer;">Logout</button>
        </div>
    </header>

    <div class="admin-container">
        <div class="admin-header">
            <div style="display:flex; align-items:center;">
                <button id="sidebar-toggle" onclick="toggleSidebar()"
                    style="background:none; border:none; color:var(--text-main); font-size:1.5rem; cursor:pointer; margin-right:1rem;"><i
                        class="fa-solid fa-bars"></i></button>
                <h1>Dashboard</h1>
            </div>
            <div style="display: flex; gap: 1rem; align-items: center;">
                <div class="lang-select-wrapper" style="display: flex; align-items: center; gap: 0.5rem;">
                    <i class="fa-solid fa-globe" style="color: #888;"></i>
                    <select id="admin-lang-select" class="admin-select">
                        <option value="en">English (EN)</option>
                        <option value="fr">Fran√ßais (FR)</option>
                    </select>
                </div>
                <button onclick="switchTab('profile')" title="Admin Profile"
                    style="background:transparent; border:none; color:var(--text-muted); font-size:1.2rem; cursor:pointer;"><i
                        class="fa-solid fa-user-shield"></i></button>

                <button onclick="switchTab('database')" title="Database"
                    style="background:transparent; border:none; color:var(--text-muted); font-size:1.2rem; cursor:pointer;"><i
                        class="fa-solid fa-database"></i></button>

                <button id="admin-theme-switch" type="button" title="Toggle Theme"
                    style="background:transparent; border:none; color:var(--text-muted); font-size:1.2rem; cursor:pointer; margin-right:1rem;"><i
                        class="fa-solid fa-moon"></i></button>
                <button class="btn-add" onclick="openModal()"><i class="fa-solid fa-plus"></i> Add New</button>
            </div>
        </div>

        <div class="admin-layout">
            <!-- Sidebar Navigation -->
            <nav class="sidebar">
                <button class="sidebar-btn active tab-btn" onclick="switchTab('overview')"><i
                        class="fa-solid fa-chart-pie"></i> <span>Overview</span></button>
                <button class="sidebar-btn tab-btn" onclick="switchTab('projects')"><i
                        class="fa-solid fa-briefcase"></i> <span>Projects</span></button>
                <button class="sidebar-btn tab-btn" onclick="switchTab('certifications')"><i
                        class="fa-solid fa-certificate"></i> <span>Certifications</span></button>
                <button class="sidebar-btn tab-btn" onclick="switchTab('education')"><i
                        class="fa-solid fa-graduation-cap"></i> <span>Education</span></button>
                <button class="sidebar-btn tab-btn" onclick="switchTab('experience')"><i
                        class="fa-solid fa-building"></i> <span>Experience</span></button>
                <button class="sidebar-btn tab-btn" onclick="switchTab('skills')"><i class="fa-solid fa-code"></i>
                    <span>Skills</span></button>
                <button class="sidebar-btn tab-btn" onclick="switchTab('articles')"><i
                        class="fa-solid fa-newspaper"></i> <span>Articles</span></button>
                <button class="sidebar-btn tab-btn" onclick="switchTab('shapes')"><i class="fa-solid fa-shapes"></i>
                    <span>Shapes</span></button>
                <button class="sidebar-btn tab-btn" onclick="switchTab('general')"><i class="fa-solid fa-sliders"></i>
                    <span>General</span></button>
                <button class="sidebar-btn tab-btn" onclick="switchTab('messages')"><i class="fa-solid fa-envelope"></i>
                    <span>Messages</span> <span id="msg-badge" class="badge"></span></button>
                <button class="sidebar-btn tab-btn" onclick="switchTab('reviews')"><i class="fa-solid fa-star"></i>
                    <span>Reviews</span></button>
                <button class="sidebar-btn tab-btn" onclick="switchTab('media')"><i class="fa-solid fa-images"></i>
                    <span>Media</span></button>
                <button class="sidebar-btn tab-btn" onclick="switchTab('system')"><i class="fa-solid fa-server"></i>
                    <span>System</span></button>
            </nav>

            <!-- Main Content Area -->
            <main class="admin-content">
                <!-- Search Bar -->
                <div id="admin-search-container" class="search-container">
                    <i class="fa-solid fa-search search-icon"></i>
                    <input type="text" id="admin-search-input" class="search-input" placeholder="Search items...">
                </div>

                <div id="content-grid" class="admin-grid">
                    <!-- Content loaded via JS -->
                </div>
            </main>
        </div>
    </div>

    <!-- Custom Confirm Modal -->
    <div id="confirm-modal" class="modal" style="z-index: 99999;">
        <div class="modal-content"
            style="max-width: 400px; text-align: center; border: 1px solid rgba(255,255,255,0.1);">
            <div style="margin-bottom: 1rem;">
                <i class="fa-solid fa-triangle-exclamation" style="font-size: 3rem; color: #ff0055;"></i>
            </div>
            <h3 id="confirm-title" style="margin-bottom: 0.5rem; font-family: var(--font-heading);">Are you sure?</h3>
            <p id="confirm-message" style="color: var(--text-muted); margin-bottom: 1.5rem; line-height: 1.5;">This
                action cannot be undone.</p>
            <div style="display: flex; gap: 1rem; justify-content: center;">
                <button id="confirm-cancel" class="btn-secondary"
                    style="background: rgba(255,255,255,0.05);">Cancel</button>
                <button id="confirm-ok" class="btn-delete" style="background: #ff0055; color: white;">Delete</button>
            </div>
        </div>
    </div>

    <!-- Add/Edit Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h2 id="modal-title">Add Item</h2>
            <form id="admin-form">
                <div id="form-fields"></div>
                <button type="submit" class="btn-add"
                    style="width: 100%; justify-content: center; margin-top: 1.5rem;">Save Changes</button>
            </form>
        </div>
    </div>

    <!-- COMMENTS MODAL -->
    <div class="modal" id="comments-modal">
        <div class="modal-content" style="width: 600px;">
            <span class="close-modal" onclick="closeCommentsModal()">&times;</span>
            <h2>Manage Comments</h2>
            <div id="comments-list" style="max-height: 400px; overflow-y: auto; padding-right: 1rem;">
                <!-- Comments injected here -->
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="notification-container" class="notification-container"></div>

    <script src="/src/admin_core.js?v=3.3" type="module"></script>
</body>

</html>